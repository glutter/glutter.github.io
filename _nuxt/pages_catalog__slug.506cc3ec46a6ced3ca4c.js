webpackJsonp([2],{"+ADf":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page-container"},[n("section",{staticClass:"page-title page-title--detail text-center"},[n("h3",[t._v(t._s(t.product.content.Title)+". Артикул "+t._s(t.product.content.Code))])]),n("section",{staticClass:"product-detail-container padded"},[n("div",{staticClass:"product-detail-img"},[n("img",{attrs:{src:t.product.content.ImageMain,alt:t.product.slug}})]),n("div",{staticClass:"product-detail-descr"},[n("p",[t._v(t._s(t.product.content.Description))]),n("button",{staticClass:"button button--order",on:{click:t.openModalReq}},[n("span",[t._v("Заказать")])]),n("span",{staticClass:"product-detail-props-title"},[t._v("Характеристики:")]),n("table",{staticClass:"product-detail-props"},[n("tbody",t._l(t.properties,function(e,i){return e.value?n("tr",{key:i},[n("td",[t._v(t._s(e.name))]),n("td",[t._v(t._s(e.value))])]):t._e()}))])])]),t.similarProducts.length>=4?n("ProductSlider",{attrs:{swiperOptions:t.productSwiperOption,products:t.similarProducts}},[n("template",{slot:"containerTitle"},[t._v("Похожие товары")])],2):t._e(),n("RequestModal",{attrs:{isActive:t.isModalVisible,product:t.product},on:{closeModal:function(e){t.isModalVisible=e}}})],1)};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},"3FWf":function(t,e,n){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"products-container products-container--home padded"},[e("div",{staticClass:"section-title-container"},[e("span",{staticClass:"section-title"},[this._t("containerTitle")],2)]),e("div",{staticClass:"product-slider-container"},[e("div",{directives:[{name:"swiper",rawName:"v-swiper:productSwiper",value:this.swiperOptions,expression:"swiperOptions",arg:"productSwiper"}],staticClass:"product-slider-outer"},[e("div",{staticClass:"product-slider swiper-wrapper"},this._l(this.products,function(t,n){return e("Product",{key:n,staticClass:"swiper-slide",attrs:{src:t.content.ImageCatalog,slug:t.slug,title:t.content.Title,code:t.content.Code}})}))]),e("div",{staticClass:"product-slider-controls"},[this._m(0),this._m(1),e("div",{staticClass:"product-swiper-pagination"}),this._t("sliderLink")],2)])])};i._withStripped=!0;var o={render:i,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"swiper-button product-swiper-button-prev"},[e("i",{staticClass:"icon-angle-left"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"swiper-button product-swiper-button-next"},[e("i",{staticClass:"icon-angle-right"})])}]};e.a=o},"5pY+":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},AGjC:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"product-container"},[n("nuxt-link",{attrs:{to:"/catalog/"+t.slug}},[n("img",{attrs:{src:t.src,alt:t.slug}}),n("div",{staticClass:"product-detail product-detail-overlay"},[n("div",{staticClass:"product-detail-info"},[n("h3",[t._v(t._s(t.title))]),n("span",{staticClass:"product-code"},[t._v("Артикул: "+t._s(t.code))])])])])],1)};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},Cv1R:function(t,e,n){var i=n("yWsO");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("26e52596",i,!1,{sourceMap:!1})},Teuk:function(t,e,n){"use strict";var i=n("ezny"),o=n("AGjC"),r=!1;var s=function(t){r||n("mGiu")},a=n("VU/8")(i.a,o.a,!1,s,null,null);a.options.__file="components/Product.vue",e.a=a.exports},UKXA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("w1K/"),o=n("+ADf"),r=!1;var s=function(t){r||n("mUGM")},a=n("VU/8")(i.a,o.a,!1,s,null,null);a.options.__file="pages/catalog/_slug.vue",e.default=a.exports},cnpl:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},eNdr:function(t,e,n){"use strict";var i=n("Teuk");e.a={components:{Product:i.a},name:"ProductSlider",props:{swiperOptions:{type:Object,required:!0},products:{type:Array,required:!0}}}},ezny:function(t,e,n){"use strict";e.a={name:"product",props:{src:{type:String,required:!0},slug:{type:String,required:!0},title:{type:String,required:!0},code:{type:String,required:!0}}}},jmWR:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.isActive?n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-info"},[n("h3",[t._v("Связь с продавцом")]),n("span",{staticClass:"close-icon",on:{click:t.closeModal}}),t.loading?n("div",{staticClass:"spinner-outer"},[n("div",{staticClass:"lds-ring"},[n("div"),n("div"),n("div"),n("div")])]):t.emailSent?n("div",{staticClass:"success-outer"},[n("h4",[t._v("Запрос успешно отправлен :)")]),n("p",[t._v("В ближайшее время с вами свяжется менеджер для уточнения информации.")])]):n("form",{staticClass:"modal-form",attrs:{action:"#"}},[n("div",{staticClass:"modal-input modal-col"},[n("label",{attrs:{for:"name"}},[t._v("Ваше имя:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.emailReqContent.clientName,expression:"emailReqContent.clientName"},{name:"focus",rawName:"v-focus"}],attrs:{name:"name",id:"name",type:"text",placeholder:"Анна",required:""},domProps:{value:t.emailReqContent.clientName},on:{input:function(e){e.target.composing||t.$set(t.emailReqContent,"clientName",e.target.value)}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.nameError,expression:"errors.nameError"}],staticClass:"input-error"},[t._v("Введите имя")])]),n("div",{staticClass:"modal-input modal-col"},[n("label",{attrs:{for:"phone"}},[t._v("Ваш телефон:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.emailReqContent.clientPhone,expression:"emailReqContent.clientPhone"}],attrs:{name:"phone",id:"phone",type:"text",placeholder:"099 123 45 67",required:""},domProps:{value:t.emailReqContent.clientPhone},on:{input:function(e){e.target.composing||t.$set(t.emailReqContent,"clientPhone",e.target.value)}}}),n("p",{staticClass:"sub"},[t._v("Для того чтобы продавец мог с Вами связаться")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.phoneError,expression:"errors.phoneError"}],staticClass:"input-error"},[t._v("Введите телефон")])]),n("div",{staticClass:"modal-input modal-row modal-row--margin"},[n("label",{attrs:{for:"comment"}},[t._v("Комментарии:")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.emailReqContent.clientComment,expression:"emailReqContent.clientComment"}],attrs:{name:"comment",id:"comment",placeholder:"Ваш комментарий"},domProps:{value:t.emailReqContent.clientComment},on:{input:function(e){e.target.composing||t.$set(t.emailReqContent,"clientComment",e.target.value)}}})]),n("div",{staticClass:"modal-input modal-row"},[n("button",{staticClass:"button button--submit",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.sendEmail(e)}}},[n("span",[t._v("Отправить запрос")])])])])])]):t._e()])};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},kFZN:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},mGiu:function(t,e,n){var i=n("kFZN");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("fbc4d18a",i,!1,{sourceMap:!1})},mUGM:function(t,e,n){var i=n("5pY+");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("0373879c",i,!1,{sourceMap:!1})},"og/n":function(t,e,n){var i=n("cnpl");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("17bf0ab4",i,!1,{sourceMap:!1})},"v0/z":function(t,e,n){"use strict";var i=n("eNdr"),o=n("3FWf"),r=!1;var s=function(t){r||n("og/n")},a=n("VU/8")(i.a,o.a,!1,s,null,null);a.options.__file="components/ProductSlider.vue",e.a=a.exports},"w1K/":function(t,e,n){"use strict";var i=n("v0/z"),o=n("zyJM");n("NYxO");e.a={head:function(){return{title:this.product.content.Title,titleTemplate:"LeSia::%s",meta:[{vmid:"description",name:"description",content:this.product.content.Description}]}},components:{ProductSlider:i.a,RequestModal:o.a},data:function(){return{productSwiperOption:{speed:750,loop:!0,autoplay:!0,slidesPerView:4,spaceBetween:20,pagination:{el:".product-swiper-pagination",clickable:!0,modifierClass:"swiper-pagination-custom-"},navigation:{nextEl:".product-swiper-button-next",prevEl:".product-swiper-button-prev"},breakpoints:{992:{slidesPerView:3},480:{slidesPerView:2}}},isModalVisible:!1}},computed:{properties:function(){return[{name:"Размер",value:this.product.content.Size},{name:"Материал вставки",value:this.product.content.GemMaterial},{name:"Для кого",value:this.product.content.Gender},{name:"Тип замка",value:this.product.content.LockType},{name:"Метал",value:this.product.content.Metal},{name:"Цвет метала",value:this.product.content.MetalColor},{name:"Проба",value:this.product.content.Probe},{name:"Вес, г",value:this.product.content.Weight}]},product:function(){return this.$store.getters.getProductBySlug(this.$route.params.slug)},similarProducts:function(){return this.$store.getters.getSimilarProducts(this.product)}},methods:{openModalReq:function(){this.isModalVisible=!0,this.$store.commit("SET_OVERLAY",this.isModalVisible)}},validate:function(t){var e=t.params;return t.store.state.products.some(function(t){return t.slug===e.slug})}}},yWsO:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},yayT:function(t,e,n){"use strict";var i=n("Xxa5"),o=n.n(i),r=n("mtWM"),s=n.n(r);e.a={props:{isActive:{type:Boolean,required:!0},product:{type:Object,required:!0}},data:function(){return{loading:!1,emailSent:!1,emailReqContent:{clientName:null,clientPhone:null,clientComment:null,productName:this.product.content.Title,productArticle:this.product.content.Code,productPhoto:this.product.content.ImageMain},errors:{nameError:null,phoneError:null}}},methods:{closeModal:function(){this.$emit("closeModal",!1),this.$store.commit("SET_OVERLAY",!1)},checkForm:function(){if(this.emailReqContent.clientName&&this.emailReqContent.clientPhone)return!0;this.errors={nameError:null,phoneError:null},this.emailReqContent.clientName||(this.errors.nameError=!0),this.emailReqContent.clientPhone||(this.errors.phoneError=!0)},sendEmail:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(o,r){try{var s=e[o](r),a=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(a).then(function(t){i("next",t)},function(t){i("throw",t)});t(a)}("next")})}}(o.a.mark(function t(){var e,n=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.emailReqContent,!this.checkForm()){t.next=5;break}return this.loading=!0,t.next=5,s.a.post("/api/email",e).then(function(t){(t.status=200)&&(n.loading=!1,n.emailSent=!0,console.log(t),setTimeout(function(){n.emailSent=!1,n.emailReqContent.clientName=null,n.emailReqContent.clientPhone=null,n.emailReqContent.clientComment=null,n.closeModal()},2e3))}).catch(function(t){console.log(t)});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},directives:{focus:{inserted:function(t){t.focus()}}}}},zyJM:function(t,e,n){"use strict";var i=n("yayT"),o=n("jmWR"),r=!1;var s=function(t){r||n("Cv1R")},a=n("VU/8")(i.a,o.a,!1,s,null,null);a.options.__file="components/RequestModal.vue",e.a=a.exports}});